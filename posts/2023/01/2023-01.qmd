---
title: "2023 Day 01"
subtitle: "Trebuchet?!"
date: 2023-12-01
categories: [python]
draft: false
---

```{r}
#| label: setup
#| echo: false
knitr::knit_hooks$set(timeit = function(before, options, envir) {
  if (before) {
    tictoc::tic()
  } else {
    elapsed <- tictoc::toc()$toc
    
    tictoc::tic()
    reticulate::py_run_string("")
    reticulate_overhead <- tictoc::toc()$toc
    
    net_elapsed <- max(elapsed - reticulate_overhead, 0.01)
    
    print(paste0("<small class='text-muted'>*Execution took ", net_elapsed, " seconds*</small>"))
  }
})
```

```{python}
with open('input.txt', "r") as f:
    lines = f.readlines()
```

## Part 1

```{python}
#| timeit: true

def first_value(line, m):
  for i, _ in enumerate(line):
    for text, val in m.items():
      if line[i:].startswith(text):
        return val


m = {c: int(c) for c in '123456789'}

answer1 = sum(10 * first_value(line, m) + first_value(line[::-1], m) for line in lines)
print(answer1)
```

## Part 2

```{python}
#| timeit: true
words = ['one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine']
m.update({text: i for i, text in enumerate(words, 1)})
rev_m = {text[::-1]: value for text, value in m.items()}

answer2 = sum(10 * first_value(line, m) + first_value(line[::-1], rev_m) for line in lines)
print(answer2)
```
