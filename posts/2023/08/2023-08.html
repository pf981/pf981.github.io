<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Paul Foster">
<meta name="dcterms.date" content="2024-04-13">
<meta name="description" content="Medium graph puzzle involving cycles.">

<title>Paul Foster - Advent of Code - 2023 Day 8</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">Paul Foster - Advent of Code</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/pf981/pf981.github.io" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://stackoverflow.com/users/1751961/paul" rel="" target=""><i class="bi bi-stack-overflow" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/paulfoster01/" rel="" target=""><i class="bi bi-linkedin" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">2023 Day 8</li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">2023</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/01/2023-01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Trebuchet?!</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/02/2023-02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Cube Conundrum</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/03/2023-03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Gear Ratios</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/04/2023-04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Scratchcards</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/05/2023-05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. If You Give A Seed A Fertilizer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/06/2023-06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Wait For It</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../../posts/2023/07/2023-07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. Camel Cards</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#part-1-hand-hierarchy" id="toc-part-1-hand-hierarchy" class="nav-link active" data-scroll-target="#part-1-hand-hierarchy">Part 1 <small class="text-body-secondary">Hand Hierarchy</small></a></li>
  <li><a href="#part-2-jokers-wild" id="toc-part-2-jokers-wild" class="nav-link" data-scroll-target="#part-2-jokers-wild">Part 2 <small class="text-body-secondary">Jokers Wild</small></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">2023 Day 8</h1>
<p class="subtitle lead">Haunted Wasteland</p>
  <div class="quarto-categories">
    <div class="quarto-category">python</div>
    <div class="quarto-category">medium</div>
    <div class="quarto-category">graph</div>
    <div class="quarto-category">cycles</div>
    <div class="quarto-category">input-specific</div>
  </div>
  </div>

<div>
  <div class="description">
    Medium graph puzzle involving cycles.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Paul Foster </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">April 13, 2024</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>Ho ho ho, fellow adventurers!</p>
<p><a href="https://adventofcode.com/2023/day/8">Advent of Code day 8</a> invites us to solve cycles</p>
<p>First, we’ll read the input.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"input.txt"</span>, <span class="st">"r"</span>) <span class="im">as</span> f:</span>
<span id="cb1-2"><a href="#cb1-2"></a>    text <span class="op">=</span> f.read()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="part-1-hand-hierarchy" class="level2">
<h2 class="anchored" data-anchor-id="part-1-hand-hierarchy">Part 1 <small class="text-body-secondary">Hand Hierarchy</small></h2>
<div class="p-0" style="min-width: fit-content;">
<div class="card border-secondary mb-3 mx-auto">
  <div class="card-body p-3 m-1 pb-0 mb-0">
    <h4 class="card-title mt-0 anchored">Task 1</h4>
<p>You are given a list of 5 card hands and their corresponding <b class="fw-bold" style="color: #2F7E4A;">bids</b>. <b class="fw-bold" style="color: #1577A0;">Rank</b> each hand and calculate the winnings as the product of the <b class="fw-bold" style="color: #1577A0;">rank</b> and <b class="fw-bold" style="color: #2F7E4A;">bid</b>. Compute the <b class="fw-bold" style="color: #91672C;">total winnings</b>.</p>
<p>Hands are <b class="fw-bold" style="color: #1577A0;">ranked</b> by their type. If two hands are of the same type, their ordering is then determined by comparing the strength of the individual cards, starting from the first card to the fifth, as needed.</p>
<h6 class="card-subtitle text-muted anchored">
Example
</h6>
<p>TODO</p>
  </div>
</div>
</div>
<div style="clear: both;">

</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> collections</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> itertools</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> re</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="kw">def</span> get_steps(pos):</span>
<span id="cb2-7"><a href="#cb2-7"></a>    it <span class="op">=</span> itertools.cycle(instructions)</span>
<span id="cb2-8"><a href="#cb2-8"></a>    steps <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb2-9"><a href="#cb2-9"></a>    <span class="cf">while</span> pos[<span class="op">-</span><span class="dv">1</span>] <span class="op">!=</span> <span class="st">"Z"</span>:</span>
<span id="cb2-10"><a href="#cb2-10"></a>        pos <span class="op">=</span> m[pos][<span class="bu">next</span>(it) <span class="op">==</span> <span class="st">"R"</span>]</span>
<span id="cb2-11"><a href="#cb2-11"></a>        steps <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb2-12"><a href="#cb2-12"></a></span>
<span id="cb2-13"><a href="#cb2-13"></a>    <span class="cf">return</span> steps</span>
<span id="cb2-14"><a href="#cb2-14"></a></span>
<span id="cb2-15"><a href="#cb2-15"></a></span>
<span id="cb2-16"><a href="#cb2-16"></a>instructions, m <span class="op">=</span> text.split(<span class="st">"</span><span class="ch">\n\n</span><span class="st">"</span>)</span>
<span id="cb2-17"><a href="#cb2-17"></a>m <span class="op">=</span> {</span>
<span id="cb2-18"><a href="#cb2-18"></a>    pos: (left, right)</span>
<span id="cb2-19"><a href="#cb2-19"></a>    <span class="cf">for</span> pos, left, right <span class="kw">in</span> [</span>
<span id="cb2-20"><a href="#cb2-20"></a>        re.findall(<span class="vs">r"[A-Z0-9]</span><span class="sc">{3}</span><span class="vs">"</span>, line) <span class="cf">for</span> line <span class="kw">in</span> m.splitlines()</span>
<span id="cb2-21"><a href="#cb2-21"></a>    ]</span>
<span id="cb2-22"><a href="#cb2-22"></a>}</span>
<span id="cb2-23"><a href="#cb2-23"></a>answer1 <span class="op">=</span> get_steps(<span class="st">"AAA"</span>)</span>
<span id="cb2-24"><a href="#cb2-24"></a><span class="bu">print</span>(answer1)</span>
<span id="cb2-25"><a href="#cb2-25"></a><span class="co">#&gt; 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="card border-info mb-3 mx-auto">
  <div class="card-header text-white bg-info">Key Points</div>
  <div class="card-body p-1">
    <p class="card-text">
</p><ul>
<li>Ranking Camel Cards hands involves two levels of ordering:
<ol type="1">
<li><strong>Primary ordering</strong> is based on the type of hand, determined by the pattern of card frequencies</li>
<li><strong>Secondary ordering</strong> evaluates the specific values of the cards within a hand</li>
</ol></li>
<li>A combined key function, <code>hand_bid_order</code>, uses both the primary and secondary orderings to sort the hands from weakest to strongest</li>
</ul>
    <p></p>
  </div>
</div>
</section>
<section id="part-2-jokers-wild" class="level2">
<h2 class="anchored" data-anchor-id="part-2-jokers-wild">Part 2 <small class="text-body-secondary">Jokers Wild</small></h2>
<div class="p-0" style="min-width: fit-content;">
<div class="pe-4">
<div class="card border-secondary mb-3 mx-auto">
  <div class="card-body p-3 m-1 pb-0 mb-0">
    <h4 class="card-title mt-0 anchored">Task 2</h4>
<p><b class="fw-bold" style="color: #BE4844;">J</b>s are now wild <b class="fw-bold" style="color: #BE4844;">Jokers</b> and act as whatever card results in the <strong>strongest type</strong>.</p>
<p>Determine the new hand <b class="fw-bold" style="color: #1577A0;">ranks</b> and compute the <b class="fw-bold" style="color: #91672C;">total winnings</b>.</p>
<h6 class="card-subtitle text-muted anchored">
Example
</h6>
<p>Todo</p>
  </div>
</div>
</div>
</div>
<div style="clear: both;">

</div>
<p>Create a new function, <code>hand_bid_order_wild</code>, which evaluates the maximum potential strength of a hand by considering all possible substitutions of <b class="fw-bold" style="color: #BE4844;">J</b> with other cards.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1"></a><span class="im">import</span> math</span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a></span>
<span id="cb3-4"><a href="#cb3-4"></a>steps <span class="op">=</span> [get_steps(start_pos) <span class="cf">for</span> start_pos <span class="kw">in</span> m <span class="cf">if</span> start_pos[<span class="op">-</span><span class="dv">1</span>] <span class="op">==</span> <span class="st">"A"</span>]</span>
<span id="cb3-5"><a href="#cb3-5"></a>answer2 <span class="op">=</span> math.lcm(<span class="op">*</span>steps)</span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="bu">print</span>(answer2)</span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="card border-info mb-3 mx-auto">
  <div class="card-header text-white bg-info">Key Points</div>
  <div class="card-body p-1">
    <p class="card-text">
</p><ul>
<li>Compute the max <code>primary_order</code> when replacing <b class="fw-bold" style="color: #BE4844;">J</b>s with every other card</li>
<li><b class="fw-bold" style="color: #BE4844;">Jokers</b> only affect the <code>primary_order</code> - the <code>secondary_order</code> is calculated the same way</li>
</ul>
    <p></p>
  </div>
</div>
<!-- Buttons -->
<div class="d-grid gap-2 d-md-flex justify-content-md-end">

  <!-- Problem Button -->
  <a type="button" class="btn btn-secondary" href="https://adventofcode.com/2023/day/8" role="button">
    <i class="bi bi-box-arrow-up-right"></i> Problem
  </a>

  <!-- Input Button -->
  <button type="button" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#inputModal">
    <i class="bi bi-file-earmark-text"></i> Input
  </button>

  <!-- Solution Modal Button -->
  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#solutionModal">
    <i class="bi bi-code-slash"></i> Full Solution
  </button>

</div>


<!-- Input Modal -->
<div class="modal fade" id="inputModal" tabindex="-1" aria-labelledby="inputModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable modal-xl">
<div class="modal-content">
<div class="modal-header">
  <h5 class="modal-title anchored" id="inputModalLabel">2023 Day 8 Input</h5>
  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
<div class="cell" data-file="input.txt">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>RL</span>
<span id="cb4-2"><a href="#cb4-2"></a></span>
<span id="cb4-3"><a href="#cb4-3"></a>AAA <span class="ot">=</span> (BBB, CCC)</span>
<span id="cb4-4"><a href="#cb4-4"></a>BBB <span class="ot">=</span> (DDD, EEE)</span>
<span id="cb4-5"><a href="#cb4-5"></a>CCC <span class="ot">=</span> (ZZZ, GGG)</span>
<span id="cb4-6"><a href="#cb4-6"></a>DDD <span class="ot">=</span> (DDD, DDD)</span>
<span id="cb4-7"><a href="#cb4-7"></a>EEE <span class="ot">=</span> (EEE, EEE)</span>
<span id="cb4-8"><a href="#cb4-8"></a>GGG <span class="ot">=</span> (GGG, GGG)</span>
<span id="cb4-9"><a href="#cb4-9"></a>ZZZ <span class="ot">=</span> (ZZZ, ZZZ)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="modal-footer">
</div>
</div>
</div>
</div>


<!-- Solution Modal -->
<div class="modal fade" id="solutionModal" tabindex="-1" aria-labelledby="solutionModalLabel" aria-hidden="true">
<div class="modal-dialog modal-dialog-scrollable modal-xl">
<div class="modal-content">
<div class="modal-header">
  <h5 class="modal-title anchored" id="solutionModalLabel">2023 Day 8 Full Solution</h5>
  <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
<div class="cell" data-file="solution.py">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>import collections</span>
<span id="cb5-2"><a href="#cb5-2"></a>import itertools</span>
<span id="cb5-3"><a href="#cb5-3"></a>import math</span>
<span id="cb5-4"><a href="#cb5-4"></a>import re</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a></span>
<span id="cb5-7"><a href="#cb5-7"></a>with <span class="fu">open</span>(<span class="st">"input.txt"</span>, <span class="st">"r"</span>) as f<span class="sc">:</span></span>
<span id="cb5-8"><a href="#cb5-8"></a>    text <span class="ot">=</span> <span class="fu">f.read</span>()</span>
<span id="cb5-9"><a href="#cb5-9"></a></span>
<span id="cb5-10"><a href="#cb5-10"></a></span>
<span id="cb5-11"><a href="#cb5-11"></a>def <span class="fu">get_steps</span>(pos)<span class="sc">:</span></span>
<span id="cb5-12"><a href="#cb5-12"></a>    it <span class="ot">=</span> <span class="fu">itertools.cycle</span>(instructions)</span>
<span id="cb5-13"><a href="#cb5-13"></a>    steps <span class="ot">=</span> <span class="dv">0</span></span>
<span id="cb5-14"><a href="#cb5-14"></a>    <span class="cf">while</span> pos[<span class="sc">-</span><span class="dv">1</span>] <span class="sc">!=</span> <span class="st">"Z"</span><span class="sc">:</span></span>
<span id="cb5-15"><a href="#cb5-15"></a>        pos <span class="ot">=</span> m[pos][<span class="cf">next</span>(it) <span class="sc">==</span> <span class="st">"R"</span>]</span>
<span id="cb5-16"><a href="#cb5-16"></a>        steps <span class="sc">+</span><span class="er">=</span> <span class="dv">1</span></span>
<span id="cb5-17"><a href="#cb5-17"></a></span>
<span id="cb5-18"><a href="#cb5-18"></a>    return steps</span>
<span id="cb5-19"><a href="#cb5-19"></a></span>
<span id="cb5-20"><a href="#cb5-20"></a></span>
<span id="cb5-21"><a href="#cb5-21"></a>instructions, m <span class="ot">=</span> <span class="fu">text.split</span>(<span class="st">"</span><span class="sc">\n\n</span><span class="st">"</span>)</span>
<span id="cb5-22"><a href="#cb5-22"></a>m <span class="ot">=</span> {</span>
<span id="cb5-23"><a href="#cb5-23"></a>    pos<span class="sc">:</span> (left, right)</span>
<span id="cb5-24"><a href="#cb5-24"></a>    <span class="cf">for</span> pos, left, right <span class="cf">in</span> [</span>
<span id="cb5-25"><a href="#cb5-25"></a>        <span class="fu">re.findall</span>(r<span class="st">"[A-Z0-9]{3}"</span>, line) <span class="cf">for</span> line <span class="cf">in</span> <span class="fu">m.splitlines</span>()</span>
<span id="cb5-26"><a href="#cb5-26"></a>    ]</span>
<span id="cb5-27"><a href="#cb5-27"></a>}</span>
<span id="cb5-28"><a href="#cb5-28"></a>answer1 <span class="ot">=</span> <span class="fu">get_steps</span>(<span class="st">"AAA"</span>)</span>
<span id="cb5-29"><a href="#cb5-29"></a><span class="fu">print</span>(answer1)</span>
<span id="cb5-30"><a href="#cb5-30"></a></span>
<span id="cb5-31"><a href="#cb5-31"></a></span>
<span id="cb5-32"><a href="#cb5-32"></a><span class="co"># Part 2</span></span>
<span id="cb5-33"><a href="#cb5-33"></a>steps <span class="ot">=</span> [<span class="fu">get_steps</span>(start_pos) <span class="cf">for</span> start_pos <span class="cf">in</span> m <span class="cf">if</span> start_pos[<span class="sc">-</span><span class="dv">1</span>] <span class="sc">==</span> <span class="st">"A"</span>]</span>
<span id="cb5-34"><a href="#cb5-34"></a>answer2 <span class="ot">=</span> <span class="fu">math.lcm</span>(<span class="sc">*</span>steps)</span>
<span id="cb5-35"><a href="#cb5-35"></a><span class="fu">print</span>(answer2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="modal-footer">
<small><i>Execution took 0.01 seconds</i></small>
</div>
</div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Paul Foster, 2024</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>